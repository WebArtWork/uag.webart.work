import{c as h}from"./chunk-CMVQKBLX.js";import{b as u}from"./chunk-CZEJVRH6.js";import"./chunk-QDH4MIVX.js";import"./chunk-RB45GIYM.js";import{w as d}from"./chunk-KRWE5CTW.js";import{C as c,O as s,P as f,ca as l,wa as p,za as a}from"./chunk-YWXTHJOJ.js";import{a as i,b as r,h as m}from"./chunk-CIWMVH6F.js";var g={formId:"form",title:"Form",components:[{name:"Input",key:"title",focused:!0,props:{placeholder:"Enter form title...",label:"Title"}}]};var w=(()=>{class n{constructor(){this._formService=c(u),this.columns=["formId","title"],this.config={buttons:[{icon:"edit",click:o=>{this._formService.modal(g,{label:"Update",click:(e,t)=>m(this,null,function*(){t(),o._id?this._formService.update(e):this._formService.create(r(i({},e),{appId:d.appId}))})},o)}},{icon:"build",hrefFunc:o=>"/admin/form/"+o.formId}]},this.documents=s([]),f(()=>{let o=this._formService.getFieldSignals("formId")();this.documents.set(this._formService.formIds().map(e=>i({formId:e},o[e]?.length?o[e][0]():{})))})}static{this.\u0275fac=function(e){return new(e||n)}}static{this.\u0275cmp=l({type:n,selectors:[["ng-component"]],decls:1,vars:3,consts:[["title","Forms",3,"rows","columns","config"]],template:function(e,t){e&1&&a(0,"wtable",0),e&2&&p("rows",t.documents())("columns",t.columns)("config",t.config)},dependencies:[h],encapsulation:2,changeDetection:0})}}return n})();export{w as FormsComponent};
