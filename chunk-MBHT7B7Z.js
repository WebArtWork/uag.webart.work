import{a as Re,b as Le}from"./chunk-P6OYN4RW.js";import{b as S}from"./chunk-CZEJVRH6.js";import{b as je,c as Be}from"./chunk-IKSPIF3S.js";import{b as Ve,c as Pe}from"./chunk-3SNXAVZY.js";import{d as Ee}from"./chunk-RB45GIYM.js";import{a as Te,e as Ae,g as Me,h as Fe,x as Ne,y as Oe}from"./chunk-KRWE5CTW.js";import{A as pe,Ab as xe,B as me,C as m,Cb as ne,D as ee,Db as Se,Eb as De,F as ue,Ga as N,Gb as G,H as F,I as E,Ia as T,Jb as Ie,Ka as u,L as B,La as Ce,Ma as ve,Mb as j,O as P,P as z,Ra as _,Sa as C,T as de,V as fe,Va as ke,Xa as H,Y as A,Z as he,Za as $,_ as ge,b as le,ca as g,e as se,ea as be,ha as y,ib as we,ka as ye,la as _e,ma as te,na as U,oa as q,p as Y,qa as Q,ra as W,rb as x,t as ae,vb as d,wa as h,wb as f,x as re,xa as k,xb as v,y as ce,ya as w,za as R}from"./chunk-YWXTHJOJ.js";import{a as b,b as M,h as I}from"./chunk-CIWMVH6F.js";var pt=new pe("ACE_CONFIG"),oe=class{readOnly;mode;theme;useWorker;highlightActiveLine;showGutter;showLineNumbers;constructor(a={}){this.assign(a)}assign(a={},e=this){for(let t in a){let n=a[t];n&&!Array.isArray(n)&&typeof n=="object"?(e[t]=e[t]??{},this.assign(n,e[t])):e[t]=n}}},J=null,Z=null,ze=new Set,Ue=new Set,Qe=new Map,We=new Map;function He(i,a){Qe.set(i,a)}function $e(i,a){We.set(i,a)}He("text",()=>import("./chunk-XTM5ZPAT.js"));He("javascript",()=>import("./chunk-JHPSMQ3I.js"));$e("github",()=>import("./chunk-K5MI3V33.js"));$e("clouds",()=>import("./chunk-JD2LTFXG.js"));function qe(i){return I(this,null,function*(){let{platformId:a,mode:e,theme:t}=i;if(!j(a))return null;let n=yield mt(a);return n?(yield Promise.all([e?ut(e):Promise.resolve(),t?dt(t):Promise.resolve()]),n):null})}function mt(i){return I(this,null,function*(){return j(i)?J||Z||(Z=I(null,null,function*(){let a=yield import("./chunk-K4YPMPS6.js");return J=a.default??a,J}),Z):null})}function ut(i){return I(this,null,function*(){if(ze.has(i))return;let a=Qe.get(i);if(!a)throw new Error(`Ace mode "${i}" is not registered.`);yield a(),ze.add(i)})}function dt(i){return I(this,null,function*(){if(Ue.has(i))return;let a=We.get(i);if(!a)throw new Error(`Ace theme "${i}" is not registered.`);yield a(),Ue.add(i)})}var ie=(()=>{class i{_platformId=m(fe);_elRef=m(de);_defaults=m(pt,{optional:!0});_instance=null;_instanceEventListeners=[];_selectionEventListeners=[];_destroyed=!1;_initSeq=0;_pendingValue=null;disabled=f(!1);readOnly=f(!1);mode=f("");theme=f("");config=f(void 0);blur=d();focus=d();copy=d();paste=d();change=d();changeCursor=d();changeSession=d();changeSelection=d();constructor(){j(this._platformId)&&z(()=>{this.disabled(),this.readOnly(),this.mode(),this.theme(),this.config();let e=this._instance;e&&this.applyState(e)})}ngOnInit(){j(this._platformId)&&(this._destroyed=!1,this.initAce())}_hostEl(){return this._elRef.nativeElement}_scheduleResize(e){requestAnimationFrame(()=>{requestAnimationFrame(()=>{try{e.resize(!0)}catch{}})})}_normalizeMode(e){let t=(e||"").trim();return`ace/mode/${t===""?"text":t.startsWith("ace/mode/")?t.slice(9):t}`}_normalizeTheme(e){let t=(e||"").trim();return`ace/theme/${t===""?"github":t.startsWith("ace/theme/")?t.slice(10):t}`}_buildParams(){let e=new oe(this._defaults??{});e.assign(this.config()??{}),e.useWorker===void 0&&(e.useWorker=!1),e.showGutter===void 0&&(e.showGutter=!0),e.showLineNumbers===void 0&&(e.showLineNumbers=!0);let t=this.mode(),n=this.theme();t&&(e.mode=t),n&&(e.theme=n),e.mode=this._normalizeMode(e.mode||""),e.theme=this._normalizeTheme(e.theme||"");let o=this.disabled(),s=o?!0:this.readOnly()||e.readOnly===!0;return e.readOnly=s,o?e.highlightActiveLine=!1:e.highlightActiveLine!==!1&&(e.highlightActiveLine=!0),e}applyState(e){return I(this,null,function*(){let t=this._hostEl(),n=this.disabled(),o=this._buildParams();t.classList.toggle("ace--disabled",n);try{t.style.pointerEvents=n?"none":""}catch{}try{yield qe({platformId:this._platformId,mode:typeof o.mode=="string"?o.mode.replace("ace/mode/",""):null,theme:typeof o.theme=="string"?o.theme.replace("ace/theme/",""):null}),e.setOptions?.(o),e.setReadOnly?.(o.readOnly===!0);let s=o.highlightActiveLine!==!1;e.setHighlightActiveLine?.(n?!1:s);let c=e.getSession?.();c?.setUseWorker?.(o.useWorker===!0);let r=o.showGutter!==!1,l=o.showLineNumbers!==!1;if(e.renderer?.setShowGutter?.(r),e.renderer?.setShowLineNumbers?.(l),o.mode){let p=typeof o.mode=="string"&&o.mode.startsWith("ace/mode/")?o.mode:`ace/mode/${o.mode}`;c?.setMode?.(p)}if(o.theme){let p=typeof o.theme=="string"&&o.theme.startsWith("ace/theme/")?o.theme:`ace/theme/${o.theme}`;e.setTheme?.(p)}n&&e.blur?.(),e.renderer?.updateFull?.()}catch{}this._scheduleResize(e)})}initAce(){return I(this,null,function*(){let e=++this._initSeq,t=this._hostEl(),n=t.textContent??"",o=this._buildParams(),s=yield qe({platformId:this._platformId,mode:typeof o.mode=="string"?o.mode.replace("ace/mode/",""):null,theme:typeof o.theme=="string"?o.theme.replace("ace/theme/",""):null});if(this._destroyed||e!==this._initSeq||!s)return;if(t.textContent="",this._instance=s.edit(t),this._instance.$blockScrolling=1/0,yield this.applyState(this._instance),this._pendingValue)this.setValue(this._pendingValue.value,this._pendingValue.cursorPos),this._pendingValue=null;else{let p=n.trim();p&&this.setValue(p,-1)}let c=(p,L,D)=>{let V=(...X)=>D.emit(X.length===1?X[0]:X);return p.on(L,V),V},r=this._instance;this._instanceEventListeners.push({eventName:"blur",callback:c(r,"blur",this.blur)}),this._instanceEventListeners.push({eventName:"focus",callback:c(r,"focus",this.focus)}),this._instanceEventListeners.push({eventName:"copy",callback:c(r,"copy",this.copy)}),this._instanceEventListeners.push({eventName:"paste",callback:c(r,"paste",this.paste)}),this._instanceEventListeners.push({eventName:"change",callback:c(r,"change",this.change)}),this._instanceEventListeners.push({eventName:"changeSession",callback:c(r,"changeSession",this.changeSession)});let l=r.selection;l?.on&&(this._selectionEventListeners.push({eventName:"changeCursor",callback:c(l,"changeCursor",this.changeCursor)}),this._selectionEventListeners.push({eventName:"changeSelection",callback:c(l,"changeSelection",this.changeSelection)})),this._scheduleResize(r)})}ngOnDestroy(){this._destroyed=!0,this._initSeq++;let e=this._instance;if(e){try{this._instanceEventListeners.forEach(({eventName:t,callback:n})=>{e.off?.(t,n)})}catch{}this._instanceEventListeners=[];try{this._selectionEventListeners.forEach(({eventName:t,callback:n})=>{e.selection?.off?.(t,n)})}catch{}this._selectionEventListeners=[];try{e.destroy?.()}catch{}this._instance=null}}ace(){return this._instance}clear(){this._instance&&(this._instance.setValue(""),this._instance.clearSelection())}getValue(){return this._instance?.getValue()}setValue(e,t=1){let n=e||"";if(!this._instance){this._pendingValue={value:n,cursorPos:t};return}this._instance.setValue(n,t)}static \u0275fac=function(t){return new(t||i)};static \u0275dir=be({type:i,selectors:[["","ace",""]],inputs:{disabled:[1,"disabled"],readOnly:[1,"readOnly"],mode:[1,"mode"],theme:[1,"theme"],config:[1,"config"]},outputs:{blur:"blur",focus:"focus",copy:"copy",paste:"paste",change:"change",changeCursor:"changeCursor",changeSession:"changeSession",changeSelection:"changeSelection"},exportAs:["ngxAce"]})}return i})(),Ge=(()=>{class i{disabled=f(!1);readOnly=f(!1);mode=f("");theme=f("");config=f(void 0);useAceClass=f(!0);value=xe("");blur=d();focus=d();copy=d();paste=d();change=d();changeCursor=d();changeSession=d();changeSelection=d();directiveRef=v(ie);get hostAceClass(){return this.useAceClass()}ngAfterViewInit(){let e=this.directiveRef();if(!e)return;let t=this.value()??"";t!==""&&e.setValue(t,1)}onContentChange(e){let t=this.directiveRef();if(!t)return;this.change.emit(e);let n=t.getValue()??"";this.value.set(n)}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["ace"]],viewQuery:function(t,n){t&1&&_(n.directiveRef,ie,5),t&2&&C()},hostVars:2,hostBindings:function(t,n){t&2&&ke("ace",n.hostAceClass)},inputs:{disabled:[1,"disabled"],readOnly:[1,"readOnly"],mode:[1,"mode"],theme:[1,"theme"],config:[1,"config"],useAceClass:[1,"useAceClass"],value:[1,"value"]},outputs:{value:"valueChange",blur:"blur",focus:"focus",copy:"copy",paste:"paste",change:"change",changeCursor:"changeCursor",changeSession:"changeSession",changeSelection:"changeSelection"},exportAs:["ngxAce"],decls:1,vars:5,consts:[["ace","",1,"ace-host",3,"blur","focus","copy","paste","change","changeCursor","changeSession","changeSelection","config","disabled","readOnly","mode","theme"]],template:function(t,n){t&1&&(k(0,"div",0),T("blur",function(s){return n.blur.emit(s)})("focus",function(s){return n.focus.emit(s)})("copy",function(s){return n.copy.emit(s)})("paste",function(s){return n.paste.emit(s)})("change",function(s){return n.onContentChange(s)})("changeCursor",function(s){return n.changeCursor.emit(s)})("changeSession",function(s){return n.changeSession.emit(s)})("changeSelection",function(s){return n.changeSelection.emit(s)}),w()),t&2&&h("config",n.config())("disabled",n.disabled())("readOnly",n.readOnly())("mode",n.mode())("theme",n.theme())},dependencies:[ie],styles:[`:host{display:block;width:100%;height:100%;min-width:0;min-height:0}:host(.flex){display:flex;flex-direction:inherit;align-items:inherit;min-width:0;min-height:0;-webkit-box-direction:inherit;-webkit-box-orient:inherit}.ace-host{display:block;width:100%;height:100%;min-width:0;min-height:0}.ace-host.ace_editor{width:100%!important;height:100%!important}:host(.flex)>.ace-host{flex:1 1 auto;min-width:0;min-height:0;-webkit-box-flex:1}.ace-host.ace--disabled{opacity:.6;pointer-events:none}.ace-host.ace--disabled .ace_cursor{display:none!important}.ace-host.ace--disabled .ace_active-line{background:transparent!important}.ace-host.ace--disabled .ace_scroller{cursor:not-allowed}
`],encapsulation:2,changeDetection:0})}return i})();var ft=["templateRef"];function ht(i,a){if(i&1){let e=N();k(0,"div",1)(1,"ace",2),T("valueChange",function(n){let o=F(e).$implicit,s=u();return E(s.onValueChange(o,n))}),w()()}if(i&2){let e=a.$implicit,t=u();h("ngClass",e.component==null?null:e.component.class),A(),h("value",t.getValue(e))("config",t.getConfig(e))("mode",t.getMode(e))("theme",t.getTheme(e))("disabled",t.isDisabled(e))("useAceClass",t.getUseAceClass(e))}}var gt={},Je=(()=>{class i{constructor(){this._form=m(S),this.templateRef=v.required("templateRef")}ngOnInit(){this._form.addTemplateComponent("Ace",this.templateRef())}getValue(e){let t=e?.key??null;if(e?.field)try{let n=e.field();if(n?.value&&typeof n.value=="function")return n.value()??""}catch{}return e?.model&&typeof e.model=="function"&&t?e.model()?.[t]??"":!t||!e?.submition?"":e.submition[t]??""}onValueChange(e,t){let n=e?.key??null;if(e?.field)try{let o=e.field();o?.value?.set&&o.value.set(t)}catch{}else e?.model&&typeof e.model.update=="function"&&n?e.model.update(o=>M(b({},o),{[n]:t})):e?.submition&&n&&(e.submition[n]=t);typeof e?.wChange=="function"&&e.wChange()}getConfig(e){let t=e?.props??{},n=b({},gt),o=D=>{if(D==null||D==="")return;let V=Number(D);return Number.isNaN(V)?void 0:V},s=o(t.minLines),c=o(t.maxLines),r=o(t.tabSize);t.fontSize!==void 0&&t.fontSize!==null&&t.fontSize!==""&&(n.fontSize=String(t.fontSize)),s!==void 0&&(n.minLines=s),c!==void 0&&(n.maxLines=c),r!==void 0&&(n.tabSize=r),typeof t.useSoftTabs=="boolean"&&(n.useSoftTabs=t.useSoftTabs),typeof t.wrap=="boolean"&&(n.wrap=t.wrap),typeof t.showLineNumbers=="boolean"&&(n.showLineNumbers=t.showLineNumbers),typeof t.showGutter=="boolean"&&(n.showGutter=t.showGutter),typeof t.highlightActiveLine=="boolean"&&(n.highlightActiveLine=t.highlightActiveLine),typeof t.showPrintMargin=="boolean"&&(n.showPrintMargin=t.showPrintMargin),typeof t.readOnly=="boolean"&&(n.readOnly=t.readOnly),typeof t.useWorker=="boolean"&&(n.useWorker=t.useWorker);let l=t.config;l&&typeof l=="object"&&!Array.isArray(l)&&Object.assign(n,l);let p=e?.field?.Config;p&&typeof p=="object"&&!Array.isArray(p)&&Object.assign(n,p);let L=t.configJson;if(typeof L=="string"&&L.trim())try{let D=JSON.parse(L);D&&typeof D=="object"&&!Array.isArray(D)&&Object.assign(n,D)}catch{}return n}getMode(e){let t=e?.props?.mode,n=e?.field?.Mode;return t?String(t):n?String(n):"text"}getTheme(e){let t=e?.props?.theme,n=e?.field?.Theme;return t?String(t):n?String(n):"github"}isDisabled(e){return!!(e?.props?.disabled||e?.component?.disabled||e?.field?.Disabled)}getUseAceClass(e){let t=e?.props?.useAceClass;if(typeof t=="boolean")return t;let n=e?.field?.UseAceClass;return typeof n=="boolean"?n:!0}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,ft,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[1,"w-ace",3,"ngClass"],[1,"w-ace__editor",3,"valueChange","value","config","mode","theme","disabled","useAceClass"]],template:function(t,n){t&1&&y(0,ht,2,7,"ng-template",null,0,x)},dependencies:[G,Ge],styles:['@charset "UTF-8";.w-ace[_ngcontent-%COMP%]{width:100%}.w-ace__editor[_ngcontent-%COMP%]{display:block;width:100%;height:clamp(240px,60vh,720px)}'],changeDetection:0})}}return i})();var Ze={formId:"ace",title:"Ace editor",components:[{name:"Select",key:"mode",props:{label:"Mode (language)",placeholder:"Select language mode...",items:["text","javascript","typescript","json","html","css","scss","markdown","sql","yaml","xml","sh","powershell"]}},{name:"Select",key:"theme",props:{label:"Theme",placeholder:"Select theme...",items:["github","monokai","tomorrow","twilight","solarized_light","solarized_dark","dracula","chaos","chrome","clouds"]}},{name:"Input",key:"fontSize",props:{label:"Font size",placeholder:"Example: 12px or 12pt"}},{name:"Input",key:"minLines",props:{label:"Min lines",placeholder:"e.g. 10",type:"number"}},{name:"Input",key:"maxLines",props:{label:"Max lines",placeholder:"e.g. 60",type:"number"}},{name:"Input",key:"tabSize",props:{label:"Tab size",placeholder:"e.g. 2 or 4",type:"number"}},{name:"Input",key:"useSoftTabs",props:{label:"Use soft tabs (spaces)",type:"checkbox"}},{name:"Input",key:"wrap",props:{label:"Wrap long lines",type:"checkbox"}},{name:"Input",key:"showLineNumbers",props:{label:"Show line numbers",type:"checkbox"}},{name:"Input",key:"showGutter",props:{label:"Show gutter",type:"checkbox"}},{name:"Input",key:"highlightActiveLine",props:{label:"Highlight active line",type:"checkbox"}},{name:"Input",key:"showPrintMargin",props:{label:"Show print margin",type:"checkbox"}},{name:"Input",key:"readOnly",props:{label:"Read only",type:"checkbox"}},{name:"Input",key:"useWorker",props:{label:"Use web worker (linting, etc.)",type:"checkbox"}},{name:"Input",key:"disabled",props:{label:"Disabled (component)",type:"checkbox"}},{name:"Input",key:"useAceClass",props:{label:"Use Ace built-in styles",type:"checkbox"}},{name:"Input",key:"configJson",props:{label:"Extra Ace config (JSON)",placeholder:'{"printMarginColumn": 120, "scrollPastEnd": 0.5}',type:"textarea"}}]};var bt=["templateRef"];function yt(i,a){if(i&1){let e=N();k(0,"wbutton",1),T("wClick",function(n){let o=F(e).$implicit;return E(o.props.onClick==null?null:o.props.onClick(n))}),H(1),w()}if(i&2){let e=a.$implicit,t=u();h("type",e.props.type??t.buttonDefaults.type)("extraClass",e.props.extraClass??t.buttonDefaults.extraClass)("disabled",e.props.disabled===!0||e.component.disabled===!0)("disableSubmit",e.props.disableSubmit??t.buttonDefaults.disableSubmit)("isMultipleClicksAllowed",e.props.isMultipleClicksAllowed??t.buttonDefaults.isMultipleClicksAllowed),A(),$(" ",e.props.label||e.props.text||"Button"," ")}}var Ke=(()=>{class i{constructor(){this._formService=m(S),this.templateRef=v.required("templateRef"),this.buttonDefaults=Ne}ngOnInit(){this._formService.addTemplateComponent("Button",this.templateRef())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,bt,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[3,"wClick","type","extraClass","disabled","disableSubmit","isMultipleClicksAllowed"]],template:function(t,n){t&1&&y(0,yt,2,6,"ng-template",null,0,x)},dependencies:[Oe],encapsulation:2,changeDetection:0})}}return i})();var Xe={formId:"button",title:"Button",components:[{name:"Input",key:"label",focused:!0,props:{label:"Label",placeholder:"Enter button label..."}},{name:"Input",key:"text",props:{label:"Text (fallback)",placeholder:"Optional alternative text..."}},{name:"Select",key:"type",props:{label:"Button type",placeholder:"Select button type...",items:["primary","secondary","success","danger","warning","info","light","dark","link"]}},{name:"Input",key:"extraClass",props:{label:"Extra CSS classes",placeholder:"wbutton--wide, my-custom-class..."}},{name:"Input",key:"disabled",props:{label:"Disabled",type:"checkbox"}},{name:"Input",key:"disableSubmit",props:{label:'Disable submit (use type="button")',type:"checkbox"}},{name:"Input",key:"isMultipleClicksAllowed",props:{label:"Allow multiple rapid clicks",type:"checkbox"}}]};var _t=["templateRef"];function Ct(i,a){if(i&1&&R(0,"ngx-file",1),i&2){let e=a.$implicit,t=u();h("label",e.props.label??t.fileDefaults.label)("placeholder",e.props.placeholder??t.fileDefaults.placeholder)("disabled",e.props.disabled===!0||(e.component==null?null:e.component.disabled)===!0)("clearable",e.props.clearable??t.fileDefaults.clearable)("accept",e.props.accept??t.fileDefaults.accept)("preview",e.props.preview??t.fileDefaults.preview)("mode",e.props.mode??t.fileDefaults.mode)("view",e.props.view??t.fileDefaults.view)("cropWidth",e.props.cropWidth??t.fileDefaults.cropWidth)("cropHeight",e.props.cropHeight??t.fileDefaults.cropHeight)("container",e.props.container??t.fileDefaults.container)("name",e.props.name??t.fileDefaults.name)}}var Ye=(()=>{class i{constructor(){this._formService=m(S),this.templateRef=v.required("templateRef"),this.fileDefaults=Re}ngOnInit(){this._formService.addTemplateComponent("File",this.templateRef())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,_t,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[3,"label","placeholder","disabled","clearable","accept","preview","mode","view","cropWidth","cropHeight","container","name"]],template:function(t,n){t&1&&y(0,Ct,1,12,"ng-template",null,0,x)},dependencies:[Le],encapsulation:2,changeDetection:0})}}return i})();var et={formId:"file",title:"File",components:[{name:"Input",key:"label",focused:!0,props:{label:"Label",placeholder:"Enter file field label..."}},{name:"Input",key:"placeholder",props:{label:"Placeholder",placeholder:"Select file"}},{name:"Select",key:"mode",props:{label:"Mode",placeholder:"Select mode...",items:["single-image","single-file","multi-image","multi-file"]}},{name:"Select",key:"view",props:{label:"View",placeholder:"Select view...",items:["dropzone","list","thumb-only"]}},{name:"Input",key:"accept",props:{label:"Accept",placeholder:"Example: image/*, application/pdf"}},{name:"Input",key:"preview",props:{label:"Show image preview",type:"checkbox"}},{name:"Input",key:"clearable",props:{label:"Allow clear",type:"checkbox"}},{name:"Input",key:"cropWidth",props:{label:"Crop width (px)",placeholder:"Example: 1080",type:"number"}},{name:"Input",key:"cropHeight",props:{label:"Crop height (px)",placeholder:"Example: 1080",type:"number"}},{name:"Input",key:"container",props:{label:"Backend container",placeholder:"general, avatars, products..."}},{name:"Input",key:"name",props:{label:"File name / prefix",placeholder:"Optional file name prefix..."}},{name:"Input",key:"disabled",props:{label:"Disabled",type:"checkbox"}}]};var vt=["templateRef"];function kt(i,a){if(i&1&&(R(0,"winput",1),U()),i&2){let e=a.$implicit,t=u();q(e.field),h("label",e.props.label??t.inputDefaults.label)("placeholder",e.props.placeholder??t.inputDefaults.placeholder)("type",e.props.type??t.inputDefaults.type)("name",e.props.name||e.props.key||t.inputDefaults.name)("items",e.props.items??t.inputDefaults.items)("disabled",!!e.props.disabled||!!e.component.disabled)("focused",e.props.focused??t.inputDefaults.focused)("clearable",e.props.clearable??t.inputDefaults.clearable)("wClass",e.props.wClass??t.inputDefaults.wClass)("autocomplete",e.props.autocomplete??t.inputDefaults.autocomplete)("error",e.props.error??t.inputDefaults.error)}}var tt=(()=>{class i{constructor(){this._formService=m(S),this.templateRef=v.required("templateRef"),this.inputDefaults=Ve}ngOnInit(){this._formService.addTemplateComponent("Input",this.templateRef())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,vt,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[3,"field","label","placeholder","type","name","items","disabled","focused","clearable","wClass","autocomplete","error"]],template:function(t,n){t&1&&y(0,kt,1,13,"ng-template",null,0,x)},dependencies:[Pe],encapsulation:2,changeDetection:0})}}return i})();var nt={formId:"form",title:"Form",components:[{name:"Input",key:"label",focused:!0,props:{placeholder:"Enter component label...",label:"Label"}},{name:"Input",key:"placeholder",props:{placeholder:"Enter component placeholder...",label:"Placeholder"}},{name:"Select",key:"type",props:{placeholder:"Enter component type...",label:"Type",items:["text","password","email","radio","checkbox","textarea","search","tel","url","number","range","color","date","month","week","time","datetime","datetime-local"]}},{name:"Input",key:"name",props:{placeholder:"Enter HTML name attribute...",label:"Name"}},{name:"Input",key:"autocomplete",props:{placeholder:"Enter autocomplete (email, name, current-password, off...)",label:"Autocomplete"}},{name:"Input",key:"wClass",props:{placeholder:"Enter extra CSS classes...",label:"CSS classes"}},{name:"Input",key:"items",props:{label:"Items (for radio / checkbox)",placeholder:"Option 1, Option 2, Option 3...",type:"textarea"}},{name:"Input",key:"clearable",props:{label:"Clearable",type:"checkbox"}},{name:"Input",key:"disabled",props:{label:"Disabled",type:"checkbox"}},{name:"Input",key:"focused",props:{label:"Auto focus",type:"checkbox"}},{name:"Input",key:"error",props:{label:"Custom error (optional)",placeholder:"Static error or i18n key..."}}]};var wt=["templateRef"];function xt(i,a){if(i&1){let e=N();k(0,"wselect",1),T("wChange",function(n){let o=F(e).$implicit;return E(o.props.onChange==null?null:o.props.onChange(n))}),w(),U()}if(i&2){let e=a.$implicit,t=u();q(e.field),h("items",e.props.items??t.selectDefaults.items)("placeholder",e.props.placeholder??t.selectDefaults.placeholder)("label",e.props.label??t.selectDefaults.label)("bindLabel",e.props.bindLabel??t.selectDefaults.bindLabel)("bindValue",e.props.bindValue??t.selectDefaults.bindValue)("multiple",e.props.multiple??t.selectDefaults.multiple)("clearable",e.props.clearable??t.selectDefaults.clearable)("searchable",e.props.searchable??t.selectDefaults.searchable)("searchableBy",e.props.searchableBy??t.selectDefaults.searchableBy)("buttons",e.props.buttons??t.selectDefaults.buttons)("disabled",e.props.disabled===!0||e.component.disabled===!0)}}var it=(()=>{class i{constructor(){this._formService=m(S),this.templateRef=v.required("templateRef"),this.selectDefaults=je}ngOnInit(){this._formService.addTemplateComponent("Select",this.templateRef())}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,wt,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[3,"wChange","field","items","placeholder","label","bindLabel","bindValue","multiple","clearable","searchable","searchableBy","buttons","disabled"]],template:function(t,n){t&1&&y(0,xt,1,13,"ng-template",null,0,x)},dependencies:[Be,Ee],encapsulation:2,changeDetection:0})}}return i})();var ot={formId:"select",title:"Select",components:[{name:"Input",key:"label",focused:!0,props:{placeholder:"Enter select label...",label:"Label"}},{name:"Input",key:"placeholder",props:{placeholder:"Enter select placeholder...",label:"Placeholder"}},{name:"Input",key:"bindLabel",props:{placeholder:"Enter label field (e.g. name)...",label:"Bind label"}},{name:"Input",key:"bindValue",props:{placeholder:"Enter value field (e.g. _id)...",label:"Bind value"}},{name:"Input",key:"items",props:{label:"Items",placeholder:"Option 1, Option 2, Option 3...",type:"textarea"}},{name:"Input",key:"searchableBy",props:{label:"Searchable by",placeholder:"name email ..."}},{name:"Input",key:"multiple",props:{label:"Multiple select",type:"checkbox"}},{name:"Input",key:"clearable",props:{label:"Clearable",type:"checkbox"}},{name:"Input",key:"searchable",props:{label:"Searchable",type:"checkbox"}},{name:"Input",key:"disabled",props:{label:"Disabled",type:"checkbox"}}]};var lt=(()=>{class i{constructor(e){this.doc=e,this.list={},this.cached={},this._notify=new se([])}fixPaths(e){return e=e||[],Array.isArray(e)||(e=[e]),e.map(t=>{let n=typeof t=="string"?{path:t}:t;return n.type||(n.type=n.path.endsWith(".js")||n.callback?"script":"style"),n})}monitor(e){let t=this.fixPaths(e),n=[ae(),Y(o=>o.length!==0)];return t.length>0&&n.push(Y(o=>o.length===t.length&&o.every(s=>s.status==="ok"&&t.find(c=>c.path===s.path)))),this._notify.asObservable().pipe(le.apply(this,n))}clear(){this.list={},this.cached={}}load(e){return I(this,null,function*(){return e=this.fixPaths(e),Promise.all(e.map(t=>t.type==="script"?this.loadScript(t.path,{callback:t.callback}):this.loadStyle(t.path))).then(t=>(this._notify.next(t),Promise.resolve(t)))})}loadScript(e,t){let{innerContent:n}=b({},t);return new Promise(o=>{if(this.list[e]===!0){o(M(b({},this.cached[e]),{status:"loading"}));return}this.list[e]=!0;let s=l=>{l.status==="ok"&&t?.callback?window[t?.callback]=()=>{c(l)}:c(l)},c=l=>{l.type="script",this.cached[e]=l,o(l),this._notify.next([l])},r=this.doc.createElement("script");r.type="text/javascript",r.src=e,r.charset="utf-8",n&&(r.innerHTML=n),r.readyState?r.onreadystatechange=()=>{(r.readyState==="loaded"||r.readyState==="complete")&&(r.onreadystatechange=null,s({path:e,status:"ok"}))}:r.onload=()=>s({path:e,status:"ok"}),r.onerror=l=>s({path:e,status:"error",error:l}),this.doc.getElementsByTagName("head")[0].appendChild(r)})}loadStyle(e,t){let{rel:n,innerContent:o}=b({rel:"stylesheet"},t);return new Promise(s=>{if(this.list[e]===!0){s(this.cached[e]);return}this.list[e]=!0;let c=this.doc.createElement("link");c.rel=n,c.type="text/css",c.href=e,o&&(c.innerHTML=o),this.doc.getElementsByTagName("head")[0].appendChild(c);let r={path:e,status:"ok",type:"style"};this.cached[e]=r,s(r)})}static{this.\u0275fac=function(t){return new(t||i)(me(B))}}static{this.\u0275prov=ce({token:i,factory:i.\u0275fac,providedIn:"root"})}}return i})();var St=["*"];function Dt(i,a){if(i&1&&(k(0,"div"),ve(1),w()),i&2){let e=u();te("id",e.id)}}function It(i,a){if(i&1&&R(0,"textarea",0),i&2){let e=u();te("id",e.id)("placeholder",e.placeholder())}}function Tt(i,a){if(i&1&&H(0),i&2){let e=u(2);$(" ",e._loading()," ")}}function At(i,a){}function Mt(i,a){if(i&1&&y(0,At,0,0,"ng-template",2),i&2){let e=u(2);h("ngTemplateOutlet",e._loadingTpl())}}function Ft(i,a){if(i&1&&(k(0,"div",1),Q(1,Tt,1,1)(2,Mt,1,1,null,2),w()),i&2){let e=u();A(),W(e._loading()?1:2)}}var K=class{baseURL="./assets/tinymce/";fileName="tinymce.min.js";config;delay},st=!(typeof document=="object"&&document),at=(()=>{class i{defConfig=m(K,{optional:!0});lazySrv=m(lt);doc=m(B);_instance;value="";load=P(!0,{});id=`_tinymce-${Math.random().toString(36).substring(2)}`;onChange;onTouched;config=f(null,{});placeholder=f("",{});inline=f(!1,{transform:ne});disabled=f(!1,{transform:ne});_disabled=P(!1,{});_loading=P(null,{});_loadingTpl=P(null,{});loading=f(null,{transform:e=>(e instanceof ge?(this._loading.set(null),this._loadingTpl.set(e)):this._loading.set(e),e)});delay=f(0,{transform:Se});ready=d();get instance(){return this._instance}constructor(){he(()=>{if(st)return;if(this.win.tinymce){this.initDelay();return}let{defConfig:e}=this,t=e&&e.baseURL,n=e&&e.fileName,o=(t??"./assets/tinymce/")+(n??"tinymce.min.js");this.lazySrv.monitor(o).subscribe(()=>this.initDelay()),this.lazySrv.load(o)}),z(()=>{let e=this.config();this._instance&&(this.destroy(),e&&this.initDelay())})}get win(){return this.doc.defaultView??window}initDelay(){st||setTimeout(()=>this.init(),Math.max(0,this.delay()))}init(){let e=this.win;if(!e.tinymce)throw new Error("tinymce js\u6587\u4EF6\u52A0\u8F7D\u5931\u8D25");let{defConfig:t,config:n,id:o,inline:s}=this;if(this._instance)return;if(t?.baseURL){let l=""+t.baseURL;l.endsWith("/")&&(l=l.substring(0,l.length-1)),e.tinymce.baseURL=l}let c=b(b({},t?.config),n()),r=M(b(b({selector:"#"+o,inline:s()},t?.config),n()),{setup:l=>{this._instance=l,this.onChange&&l.on("change keyup",()=>{this.value=l.getContent(),this.onChange(this.value)}),typeof c.setup=="function"&&c.setup(l)},init_instance_callback:l=>{l&&this.value&&l.setContent(this.value),this.setDisabled(),typeof c.init_instance_callback=="function"&&c.init_instance_callback(l),this.ready.emit(l)}});c.auto_focus&&(r.auto_focus=o),e.tinymce.init(r),this.load.set(!1)}destroy(){this._instance!=null&&(this._instance.off(),this._instance.remove(),this._instance=null)}setDisabled(){if(!this._instance)return;let e=this.disabled()||this._disabled()?"readonly":"design",t=this._instance.setMode;typeof t=="function"?t(e):this._instance.mode.set(e)}ngOnDestroy(){this.destroy()}writeValue(e){this.value=e??"",this._instance?.setContent(this.value)}registerOnChange(e){this.onChange=e}registerOnTouched(e){this.onTouched=e}setDisabledState(e){this._disabled.set(e),this.setDisabled()}static \u0275fac=function(t){return new(t||i)};static \u0275cmp=g({type:i,selectors:[["tinymce"]],inputs:{config:[1,"config"],placeholder:[1,"placeholder"],inline:[1,"inline"],disabled:[1,"disabled"],loading:[1,"loading"],delay:[1,"delay"]},outputs:{ready:"ready"},exportAs:["tinymce"],features:[we([{provide:Te,useExisting:re(()=>i),multi:!0}])],ngContentSelectors:St,decls:3,vars:2,consts:[[1,"tinymce-selector"],[1,"loading"],[3,"ngTemplateOutlet"]],template:function(t,n){t&1&&(Ce(),Q(0,Dt,2,1,"div")(1,It,1,2,"textarea",0),Q(2,Ft,3,1,"div",1)),t&2&&(W(n.inline()?0:1),A(2),W(n.load()?2:-1))},dependencies:[Ie],styles:[`tinymce .tinymce-selector{display:none}
`],encapsulation:2,changeDetection:0})}return i})();function Un(i){return ee([{provide:K,useValue:i}])}var Et=["templateRef"];function Nt(i,a){if(i&1){let e=N();k(0,"div",1)(1,"tinymce",2),T("ngModelChange",function(n){let o=F(e).$implicit,s=u();return E(s.onValueChange(o,n))}),w()()}if(i&2){let e=a.$implicit,t=u();h("ngClass",e.component==null?null:e.component.class),A(),h("ngModel",t.getValue(e))("config",t.getConfig(e))("disabled",t.isDisabled(e))("inline",t.isInline(e))("placeholder",t.getPlaceholder(e))}}var rt=(()=>{class i{constructor(){this._form=m(S),this.templateRef=v.required("templateRef")}ngOnInit(){this._form.addTemplateComponent("Tinymce",this.templateRef())}getValue(e){let t=e.key;if(e.field)try{let n=e.field();if(n?.value&&typeof n.value=="function")return n.value()??""}catch{}return!t||!e.submition?"":e.submition[t]??""}onValueChange(e,t){let n=e.key;if(e.field)try{let o=e.field();o?.value?.set&&o.value.set(t)}catch{}else e.model&&typeof e.model.update=="function"&&n?e.model.update(o=>M(b({},o),{[n]:t})):e.submition&&n&&(e.submition[n]=t);typeof e.wChange=="function"&&e.wChange()}getConfig(e){let t=e&&e.props||{},n=l=>{if(l==null||l==="")return;let p=Number(l);return Number.isNaN(p)?void 0:p},o={},s=n(t.height),c=n(t.minHeight),r=n(t.maxHeight);if(s!==void 0&&(o.height=s),c!==void 0&&(o.min_height=c),r!==void 0&&(o.max_height=r),typeof t.menubar=="boolean"&&(o.menubar=t.menubar),typeof t.statusbar=="boolean"&&(o.statusbar=t.statusbar),typeof t.branding=="boolean"&&(o.branding=t.branding),typeof t.pasteAsText=="boolean"&&(o.paste_as_text=t.pasteAsText),t.toolbarPreset){let l=String(t.toolbarPreset),p={basic:"undo redo | bold italic underline | bullist numlist | link",standard:"undo redo | styles | bold italic underline | alignleft aligncenter alignright | bullist numlist | link image table",full:"undo redo | styles | bold italic underline strikethrough | alignleft aligncenter alignright alignjustify | bullist numlist outdent indent | link image media table | forecolor backcolor | removeformat"};l!=="custom"&&p[l]&&(o.toolbar=p[l])}if(t.pluginsPreset){let l=String(t.pluginsPreset),p={minimal:"lists link",standard:"lists link image table code",media:"lists link image media table code",all:"advlist anchor autolink charmap code emoticons image link lists media searchreplace table visualblocks wordcount"};l!=="custom"&&p[l]&&(o.plugins=p[l])}if(t.forceRootBlock){let l=String(t.forceRootBlock);l==="false"?o.forced_root_block=!1:l==="default"||(o.forced_root_block=l)}if(t.imageUploadUrl&&(o.images_upload_url=String(t.imageUploadUrl)),t.contentCss&&(o.content_css=String(t.contentCss)),t.contentStyle&&(o.content_style=String(t.contentStyle)),t.bodyClass&&(o.body_class=String(t.bodyClass)),t.language&&(o.language=String(t.language)),t.skin&&(o.skin=String(t.skin)),t.config&&typeof t.config=="object"&&Object.assign(o,t.config),typeof t.configJson=="string"&&t.configJson.trim())try{let l=JSON.parse(t.configJson);l&&typeof l=="object"&&Object.assign(o,l)}catch{}return o}isDisabled(e){return e.props?.disabled??!1}isInline(e){return e.props?.inline??!1}getPlaceholder(e){return e.props?.placeholder??""}static{this.\u0275fac=function(t){return new(t||i)}}static{this.\u0275cmp=g({type:i,selectors:[["ng-component"]],viewQuery:function(t,n){t&1&&_(n.templateRef,Et,5),t&2&&C()},decls:2,vars:0,consts:[["templateRef",""],[1,"w-tiny",3,"ngClass"],[1,"w-tiny__editor",3,"ngModelChange","ngModel","config","disabled","inline","placeholder"]],template:function(t,n){t&1&&y(0,Nt,2,6,"ng-template",null,0,x)},dependencies:[G,Fe,Ae,Me,at],styles:[".w-tiny[_ngcontent-%COMP%]{width:100%}.w-tiny__editor[_ngcontent-%COMP%]{display:block;width:100%}"],changeDetection:0})}}return i})();var ct={formId:"tinymce",title:"Tinymce",components:[{name:"Input",key:"placeholder",focused:!0,props:{label:"Placeholder",placeholder:"Enter editor placeholder..."}},{name:"Input",key:"height",props:{label:"Height (px)",placeholder:"Example: 300",type:"number"}},{name:"Input",key:"minHeight",props:{label:"Min height (px)",placeholder:"Example: 200",type:"number"}},{name:"Input",key:"maxHeight",props:{label:"Max height (px)",placeholder:"Example: 600",type:"number"}},{name:"Input",key:"disabled",props:{label:"Disabled",type:"checkbox"}},{name:"Input",key:"inline",props:{label:"Inline mode",type:"checkbox"}},{name:"Input",key:"menubar",props:{label:"Show menubar",type:"checkbox"}},{name:"Input",key:"statusbar",props:{label:"Show statusbar",type:"checkbox"}},{name:"Input",key:"branding",props:{label:"Show TinyMCE branding",type:"checkbox"}},{name:"Input",key:"pasteAsText",props:{label:"Paste as plain text",type:"checkbox"}},{name:"Select",key:"toolbarPreset",props:{label:"Toolbar preset",placeholder:"Choose toolbar preset...",items:["basic","standard","full","custom"]}},{name:"Select",key:"pluginsPreset",props:{label:"Plugins preset",placeholder:"Choose plugins preset...",items:["minimal","standard","media","all","custom"]}},{name:"Select",key:"forceRootBlock",props:{label:"Force root block",placeholder:"Default (TinyMCE)",items:["default","p","div","false"]}},{name:"Input",key:"imageUploadUrl",props:{label:"Images upload URL",placeholder:"https://api.example.com/upload"}},{name:"Input",key:"contentCss",props:{label:"Content CSS (URL)",placeholder:"/assets/tinymce-content.css"}},{name:"Input",key:"contentStyle",props:{label:"Content styles (CSS string)",placeholder:"body { font-family: system-ui; }",type:"textarea"}},{name:"Input",key:"bodyClass",props:{label:"Editor body CSS class",placeholder:"w-tiny-body"}},{name:"Input",key:"language",props:{label:"Language code",placeholder:"Example: en, uk, de..."}},{name:"Input",key:"skin",props:{label:"Skin",placeholder:"Example: oxide, oxide-dark..."}},{name:"Input",key:"configJson",props:{label:"Extra TinyMCE config (JSON)",placeholder:'{"menubar": false, "toolbar": "undo redo | bold italic"}',type:"textarea"}}]};var hi=["Input","Select","File","Button","Ace","Tinymce"],gi=i=>({Input:nt,Select:ot,File:et,Button:Xe,Ace:Ze,Tinymce:ct})[i],Ot={Input:tt,Select:it,File:Ye,Button:Ke,Ace:Je,Tinymce:rt};function Rt(i,a){return()=>{Object.values(Ot).forEach(e=>{let t=De(e,{environmentInjector:i});a.attachView(t.hostView),t.hostView.detectChanges?.()})}}var bi=()=>({provide:ye,multi:!0,useFactory:Rt,deps:[ue,_e]});export{Un as a,hi as b,gi as c,bi as d};
